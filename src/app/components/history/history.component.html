<h2>任务记录</h2>
<div class="table-wrap">
    <nz-table #nzTable
    [nzAjaxData]="_dataSet"
    nzShowSizeChanger
    [nzLoading]="loading"
    [nzTotal]="_total"
    [(nzPageIndex)]="_current"
    (nzPageIndexChange)="refreshData()"
    [(nzPageSize)]="pageSize"
    (nzPageSizeChange)="refreshData(true)">
    <thead nz-thead>
      <tr>
        <th nz-th>
          <span>任务名称</span>
        </th>
        <th nz-th>
          <span>任务类型</span>
          <nz-dropdown [nzTrigger]="'click'">
            <i class="anticon anticon-filter" nz-dropdown></i>
            <ul nz-menu>
                <li nz-menu-item *ngFor="let filter of dataArr">
                <label nz-checkbox [(ngModel)]="filter.value">
                    <span>{{filter.name}}</span>
                </label>
                </li>
            </ul>
            <div nz-table-filter>
                <span nz-table-filter-confirm (click)="refreshData(true)">OK</span>
                <span nz-table-filter-clear (click)="reset()">Reset</span>
            </div>
          </nz-dropdown>
        </th>
        <th nz-th>
          <span>数据类型</span>
        </th>
        <th nz-th>
          <span>任务状态</span>
        </th>
        <th nz-th>
          <span>未完成原因</span>
        </th>
      </tr>
    </thead>
    <tbody nz-tbody>
      <tr nz-tbody-tr *ngFor="let data of nzTable.data;let i=index;" (click)="rowClick(data,i)">
        <td nz-td>
          <a>{{data.Task.name}}</a>
        </td>
        <td nz-td>{{data.Task.TaskSet.type}}</td>
        <td nz-td>{{data.Task.TaskSet.dataType}}</td>
        <td nz-td>{{data.Task.status}}</td>
        <td nz-td>{{data.Task.type}}</td>
      </tr>
    </tbody>
  </nz-table>
</div>